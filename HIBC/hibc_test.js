const hibc_parse = require('./hibc_parse'),
  moment = require('moment'),
  _ = require('lodash'),
  hibc_parse_new = require('./hibc');

var barcode = [
  // '*+H4357142111517*',
  // '*+$12DM116357C*',
  // '*+$$322041712DM116357R*'

  // '+J0146605510316*',
  // '+1821282084452LN*'

  //'*+H435713067141E',
  //  '*+$16BM07001ED',
  // '*+$$326020616BM07001ES'

  // '+J123123451/$$1012311234567L'

  // '+H435716552361K',
  // '+$16GM04912KW',
  // '+$$326070516GM04912K8'


  // '+H728716552361P',
  // '+$15FT56024P0',
  // '+$$325070115FT56024PE'

  //'+H124007711009101/2630463496768K168'
  //'+H124008757048011/2636563558038L16J'
  //'+H124005980047021/2624363445304H16$'

  // '+Z00885836124669/2700120170101J'
  // '+H124657711005101/2800120170201J'
  //'+H124657711006101/2900120170301J'
  // '+H124005980027021/2621263395009G16'
  // '+124005980047021/2621263413483H16'

  // '+J014660551921E',
  // '+191584204623KL'

  // '+j0146605510316',
  // '+1909083914526LX'

  //'+H84401001026141/213652891058A17Q'
  //'+H132005964014511/270316538059A17Z'

  // '+H4357130220818',
  // '+$13KM013508E',
  // '+$$323103113KM013508N'

  // "+H4357130220818", 
  // "+$13GM041928H", 
  // "+$$323070613GM041928Y"

  //'+H84401001019151/213342883804L16Z'
  //'+H124617700101/213341202017L16Z',

  // '+H124005988006261', 
  // '+1909083914526LX'

  //'+H12400500103800/2536563213053L16M'
  // '+H124005980027021/2636563549850L16E'

  // '+H124617700101/26365120000111L16E'
  // '+H124002357003081/$62321802E130'
  //'+H124617700101/$12345678E130'

  // '+H435713355401D',
  // '+$13CM06985DU',
  // '+$$323031013CM06985D '

  // '+B578660551031D',
  // '+2015287224437DF'

  // '+H124005962030101/2124363460915H16U'
  // '+H844350049031/201212805809E15P'
  '+M684ETPKN6PR1-',
  '+$$09251726095-T'
];

const parseTm = () => {
  // const obj = {};
  // barcode.forEach(val => {
  //   const res = hibc_parse(val);
  //   console.log(res);
  //   if(!_.isUndefined(res.error)) {
  //     throw new Error(123);
  //   }
  //   if(res.type === 1 || res.type === 2) {
  //     obj.HIBC = res.labelerId.concat(res.product);
  //     obj.SPBH = res.product;
  //   }
  //   if(res.type === 3) {
  //     obj.SPPH = res.lot;
  //     obj.YXQZ = Date.parse(res.date);
  //   }
  // });
  // console.log(obj);
 // console.log(hibc_parse(barcode));
  
  // hibc_parse(barcode);
  hibc_parse_new(barcode);
};

parseTm();



